<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³ ì§€í˜ˆì¦(ì½œë ˆìŠ¤í…Œë¡¤) - 9988 ê±´ê°•ì •ë³´</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans KR", sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
        }
        
        /* ========== í—¤ë” ìŠ¤íƒ€ì¼ (ë©”ì¸ê³¼ ë™ì¼) ========== */
        .main-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            min-height: 80px;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
            transition: transform 0.3s;
        }
        
        .logo-container:hover {
            transform: scale(1.05);
        }
        
        .logo-image {
            height: 50px;
            width: auto;
            border-radius: 8px;
            background: white;
            padding: 5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .main-nav {
            display: flex;
            gap: 0;
        }
        
        .nav-item {
            padding: 10px 24px;
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s;
            position: relative;
            border-radius: 8px;
        }
        
        .nav-item::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: white;
            transform: translateX(-50%);
            transition: width 0.3s;
        }
        
        .nav-item:hover {
            background: rgba(255,255,255,0.15);
        }
        
        .nav-item:hover::before {
            width: 60%;
        }
        
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 28px;
            cursor: pointer;
            padding: 10px;
        }
        .mobile-close-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 1001;
        }
        
        @media (max-width: 768px) {
            .mobile-close-btn {
                display: block;
            }
        }
        
                                
        
                        
        .site-main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
                
        
        /* ========== ì½˜í…ì¸  ì˜ì—­ ========== */
        .health-card-container {
            padding: 40px 20px 60px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: calc(100vh - 80px);
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }
        
        .main-icon {
            font-size: 72px;
            margin-bottom: 15px;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
        }
        
        .section-title h2 {
            font-size: 42px;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0 0 15px 0;
        }
        
        .subtitle {
            font-size: 18px;
            color: #666;
            font-weight: 500;
        }
        
        .health-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .health-card {
            position: relative;
            padding: 40px 30px;
            border-radius: 24px;
            background: linear-gradient(135deg, var(--card-color-1) 0%, var(--card-color-2) 100%);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            overflow: hidden;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            text-decoration: none;
        }
        
        .health-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.25);
        }
        
        .health-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 120px;
            height: 120px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            transform: translate(40%, -40%);
        }
        
        .health-card-icon {
            font-size: 56px;
            margin-bottom: 15px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
            position: relative;
            z-index: 1;
        }
        
        .health-card h3 {
            font-size: 22px;
            font-weight: 700;
            color: #ffffff;
            margin: 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1;
        }
        
        @media (max-width: 768px) {
            .header-content {
                min-height: 70px;
            }
            
            .logo-image {
                height: 40px;
            }
            
            .main-nav {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                flex-direction: column;
                padding: 20px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            }
            
            .main-nav.active {
                display: flex;
            }
            
            .nav-item {
                padding: 15px 20px;
                text-align: center;
            }
            
            .mobile-menu-btn {
                display: block;
            }
        .mobile-close-btn {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 10px;
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 1001;
        }
        
        @media (max-width: 768px) {
            .mobile-close-btn {
                display: block;
            }
        }
            
            
            
            .health-cards-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .section-title h2 {
                font-size: 32px;
            }
            
            .main-icon {
                font-size: 56px;
            }
        }
    
        .page-title {
            text-align: center;
        }


        
        
        
        
        
    </style>

    
    <style>
        /* ë‰´ìŠ¤ ê·¸ë¦¬ë“œ ìŠ¤íƒ€ì¼ (ê±´ê°•Newsì™€ ë™ì¼) */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            max-width: 1200px;
            margin: 40px auto 0;
            padding: 0 20px;
        }
        
        .news-item {
            text-decoration: none;
            display: flex;
            flex-direction: column;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }
        
        .news-item:hover {
            transform: translateY(-8px);
        }
        
        .news-thumbnail {
            width: 100%;
            aspect-ratio: 1 / 1;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            transition: all 0.3s;
            position: relative;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .news-item:hover .news-thumbnail {
            box-shadow: 0 20px 40px rgba(0,0,0,0.25);
        }
        
        .news-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }
        
        .news-item:hover .news-thumbnail img {
            transform: scale(1.05);
        }
        
        .news-thumbnail::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.3));
        }
        
        .news-thumbnail-placeholder {
            font-size: 60px;
            color: white;
            opacity: 0.8;
        }
        
        .news-title {
            margin-top: 15px;
            font-size: 18px;
            font-weight: 600;
            color: #333;
            line-height: 1.5;
            text-align: center;
            padding: 0 10px;
        }
        
        .news-date {
            margin-top: 8px;
            font-size: 14px;
            color: #999;
            text-align: center;
        }
        
        .no-posts-message {
            text-align: center;
            padding: 60px 20px;
            color: #999;
            font-size: 18px;
        }
        
        @media (max-width: 768px) {
            .news-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .news-title {
                font-size: 16px;
            }
        }
    
        .page-title {
            text-align: center;
        }

        
        
        
        
        
    
        
                
                
                
                
    

        
        
        
        
        
    

        .back-button {
            display: inline-block;
            margin: 30px 0 30px 0;
            padding: 12px 24px;
            background: white;
            color: #667eea;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }
        
        .back-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }
        
        .back-button::before {
            content: 'â† ';
            font-weight: bold;
        }
    </style>

</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <a href="index-v3.html" class="logo-container">
                <img src="https://health9988234.mycafe24.com/wp-content/uploads/2025/11/cropped-1-1.png" 
                     alt="9988 ê±´ê°• ì—°êµ¬ì†Œ" 
                     class="logo-image">
            </a>
            
                                    <nav class="main-nav" id="mainNav">
                <button class="mobile-close-btn" id="mobileCloseBtn">âœ•</button>
                <a href="index-v3.html" class="nav-item">ì§ˆí™˜ë³„ ì •ë³´</a>
                <a href="food-main.html" class="nav-item">ì‹ë‹¨/ìŒì‹</a>
                <a href="exercise-main.html" class="nav-item">ìš´ë™/í™œë™</a>
                <a href="lifestyle-main.html" class="nav-item">ìƒí™œìŠµê´€</a>
                <a href="news-main.html" class="nav-item">ê±´ê°•News</a>
            </nav>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">â˜°</button>
        </div>
    </header>

    <div class="site-main">
        <a href="category-ì‹¬í˜ˆê´€ì§ˆí™˜.html" class="back-button">ë’¤ë¡œê°€ê¸°</a>
        
        <header class="page-header">
            <h1 class="page-title">ê³ ì§€í˜ˆì¦(ì½œë ˆìŠ¤í…Œë¡¤)</h1>
        </header>
        
        <div class="news-grid">
            <!-- ì›Œë“œí”„ë ˆìŠ¤ì—ì„œ ê¸€ì„ ê°€ì ¸ì™€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            <div class="no-posts-message">
                <p>ğŸ“ ê³§ ì—…ë°ì´íŠ¸ë  ì˜ˆì •ì…ë‹ˆë‹¤</p>
                <p style="font-size: 14px; margin-top: 10px; color: #ccc;">ì›Œë“œí”„ë ˆìŠ¤ ê¸€ì´ ì—°ë™ë˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</p>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            document.getElementById('mainNav').classList.toggle('active');
        });
    </script>

    <script>
        // ì¸ë„¤ì¼ ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸° (ê°œì„ ëœ ë²„ì „)
        function getThumbnailUrl(post) {
            // ë°©ë²• 1: _embeddedì—ì„œ ê°€ì ¸ì˜¤ê¸°
            if (post._embedded && post._embedded['wp:featuredmedia'] && post._embedded['wp:featuredmedia'][0]) {
                const media = post._embedded['wp:featuredmedia'][0];
                if (media.source_url) {
                    return media.source_url;
                }
                if (media.media_details && media.media_details.sizes) {
                    // í° ì´ë¯¸ì§€ë¶€í„° ì‹œë„
                    const sizes = ['large', 'medium_large', 'medium', 'full'];
                    for (const size of sizes) {
                        if (media.media_details.sizes[size] && media.media_details.sizes[size].source_url) {
                            return media.media_details.sizes[size].source_url;
                        }
                    }
                }
            }
            
            // ë°©ë²• 2: ë³¸ë¬¸ì—ì„œ ì²« ë²ˆì§¸ ì´ë¯¸ì§€ ì¶”ì¶œ
            if (post.content && post.content.rendered) {
                const imgMatch = post.content.rendered.match(/<img[^>]+src=["']([^"']+)["']/i);
                if (imgMatch && imgMatch[1]) {
                    // ìƒëŒ€ ê²½ë¡œë¥¼ ì ˆëŒ€ ê²½ë¡œë¡œ ë³€í™˜
                    let imgUrl = imgMatch[1];
                    if (imgUrl.startsWith('/')) {
                        imgUrl = 'https://health9988234.mycafe24.com' + imgUrl;
                    } else if (!imgUrl.startsWith('http')) {
                        imgUrl = 'https://health9988234.mycafe24.com/' + imgUrl;
                    }
                    return imgUrl;
                }
            }
            
            return null;
        }
        
                // ì›Œë“œí”„ë ˆìŠ¤ REST APIë¡œ í¬ìŠ¤íŠ¸ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° (ì—¬ëŸ¬ ì¹´í…Œê³ ë¦¬ ì§€ì›)
        async function loadPosts(categorySlugs, pageTitle = '') {
            const newsGrid = document.querySelector('.news-grid');
            
            // ë¡œë”© ë©”ì‹œì§€
            newsGrid.innerHTML = `
                <div class="no-posts-message" style="grid-column: 1 / -1;">
                    <div class="spinner"></div>
                    <p>ê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                </div>
            `;
            
            try {
                // categorySlugsëŠ” ë°°ì—´ ë˜ëŠ” ë¬¸ìì—´ ê°€ëŠ¥
                if (typeof categorySlugs === 'string') {
                    categorySlugs = [categorySlugs];
                } else if (!categorySlugs || !Array.isArray(categorySlugs)) {
                    categorySlugs = [];
                }
                
                // ì¹´í…Œê³ ë¦¬ ID ê°€ì ¸ì˜¤ê¸° (ì—¬ëŸ¬ ìŠ¬ëŸ¬ê·¸ ì§€ì›)
                let apiUrl = 'https://health9988234.mycafe24.com/wp-json/wp/v2/posts?per_page=20&_embed';
                const categoryIds = []; // ìŠ¤ì½”í”„ ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ë°–ì—ì„œ ì„ ì–¸
                
                if (categorySlugs.length > 0) {
                    console.log('Looking up categories for slugs:', categorySlugs);
                    for (const slug of categorySlugs) {
                        try {
                            const catUrl = `https://health9988234.mycafe24.com/wp-json/wp/v2/categories?slug=${encodeURIComponent(slug)}`;
                            console.log(`Fetching category: ${catUrl}`);
                            const catResponse = await fetch(catUrl);
                            const categories = await catResponse.json();
                            console.log(`Category ${slug} result:`, categories);
                            if (categories.length > 0) {
                                categoryIds.push(categories[0].id);
                                console.log(`Added category ID ${categories[0].id} for slug ${slug}`);
                            } else {
                                console.warn(`No category found for slug: ${slug}`);
                            }
                        } catch (e) {
                            console.error(`Category fetch error for ${slug}:`, e);
                        }
                    }
                    
                    if (categoryIds.length > 0) {
                        // ì—¬ëŸ¬ ì¹´í…Œê³ ë¦¬ IDë¥¼ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì „ë‹¬
                        apiUrl += `&categories=${categoryIds.join(',')}`;
                    } else {
                        console.warn('No category IDs found, fetching all posts');
                    }
                } else {
                    console.warn('No category slugs provided, fetching all posts');
                }
                
                console.log('Final API URL:', apiUrl);
                console.log('Category IDs:', categoryIds);
                console.log('ğŸ“ ìë™ ë§¤í•‘: ì›Œë“œí”„ë ˆìŠ¤ì— ìƒˆ ê¸€ì´ ì˜¬ë¼ì˜¤ë©´ ìë™ìœ¼ë¡œ ì´ í˜ì´ì§€ì— í‘œì‹œë©ë‹ˆë‹¤!');
                console.log('   - ê¸€ì˜ ì¹´í…Œê³ ë¦¬ì™€ ì œëª©ì„ ë¶„ì„í•˜ì—¬ ê´€ë ¨ í˜ì´ì§€ì— ìë™ ë§¤í•‘ë©ë‹ˆë‹¤.');
                
                const response = await fetch(apiUrl);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const posts = await response.json();
                
                console.log('Fetched posts:', posts.length, posts);
                
                if (posts.length === 0) {
                    newsGrid.innerHTML = `
                        <div class="no-posts-message" style="grid-column: 1 / -1;">
                            <p>ğŸ“ ì•„ì§ ì‘ì„±ëœ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤</p>
                            <p style="font-size: 14px; margin-top: 10px; color: #ccc;">ê³§ ì—…ë°ì´íŠ¸ë  ì˜ˆì •ì…ë‹ˆë‹¤</p>
                        </div>
                    `;
                    return;
                }
                
                // í¬ìŠ¤íŠ¸ ëª©ë¡ ë Œë”ë§ (ê´€ë ¨ì„± ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬)
                // ì¹´í…Œê³ ë¦¬ ì´ë¦„ ê°€ì ¸ì˜¤ê¸° (ì œëª© ìœ ì‚¬ë„ ê³„ì‚°ìš©)
                const categoryNames = [];
                if (categoryIds.length > 0) {
                    try {
                        for (const catId of categoryIds) {
                            const catResponse = await fetch(`https://health9988234.mycafe24.com/wp-json/wp/v2/categories/${catId}`);
                            const catData = await catResponse.json();
                            if (catData && catData.name) {
                                categoryNames.push(catData.name.toLowerCase());
                            }
                        }
                    } catch (e) {
                        console.warn('Failed to fetch category names:', e);
                    }
                }
                
                // ê° í¬ìŠ¤íŠ¸ì˜ ê´€ë ¨ì„± ì ìˆ˜ ê³„ì‚° (ì¹´í…Œê³ ë¦¬ ì´ë¦„ê³¼ ì œëª© ìœ ì‚¬ë„ ìš°ì„ )
                const pageTitleLower = pageTitle.toLowerCase();
                const pageTitleWords = pageTitleLower.split(/[\s\-\(\)\/]+/).filter(w => w.length > 1);
                
                // ì¼ë°˜ì ì¸ ì˜í•™ ìš©ì–´ ì œì™¸ ëª©ë¡
                const commonMedicalTerms = ['ì¦í›„êµ°', 'ì¥ì• ', 'ì§ˆí™˜', 'ë³‘', 'ì—¼', 'ì¦', 'ì¦ìƒ', 'í•©ë³‘ì¦', 'ê´€ë¦¬', 'ì˜ˆë°©', 'ì¹˜ë£Œ', 'ê°€ì´ë“œ', 'ì •ë³´'];
                
                // í•µì‹¬ í‚¤ì›Œë“œ ì¶”ì¶œ (í˜ì´ì§€ ì œëª©ì˜ ê³ ìœ í•œ ë‹¨ì–´ë§Œ, 3ê¸€ì ì´ìƒ, ì¼ë°˜ ì˜í•™ ìš©ì–´ ì œì™¸)
                let coreKeywords = pageTitleWords.filter(w => 
                    w.length > 2 && 
                    !commonMedicalTerms.some(term => w.includes(term) || term.includes(w))
                );
                
                // í•µì‹¬ í‚¤ì›Œë“œê°€ ì—†ìœ¼ë©´ í˜ì´ì§€ ì œëª©ì˜ ì²« ë²ˆì§¸ ë‹¨ì–´ ì‚¬ìš© (3ê¸€ì ì´ìƒì¸ ê²½ìš°)
                if (coreKeywords.length === 0 && pageTitleWords.length > 0) {
                    const firstWord = pageTitleWords[0];
                    if (firstWord.length > 2) {
                        coreKeywords.push(firstWord);
                    }
                }
                
                // í•µì‹¬ í‚¤ì›Œë“œê°€ ì—¬ì „íˆ ì—†ìœ¼ë©´ í˜ì´ì§€ ì œëª© ì „ì²´ë¥¼ ê³µë°± ì œê±°í•˜ì—¬ í•µì‹¬ í‚¤ì›Œë“œë¡œ ì‚¬ìš©
                if (coreKeywords.length === 0) {
                    const pageTitleNoSpace = pageTitleLower.replace(/\s+/g, '');
                    if (pageTitleNoSpace.length > 2) {
                        coreKeywords.push(pageTitleNoSpace);
                    }
                }
                
                // ë¬¸ìì—´ ìœ ì‚¬ë„ ê³„ì‚° í•¨ìˆ˜ (ê°„ë‹¨í•œ Levenshtein ê±°ë¦¬ ê¸°ë°˜)
                function calculateSimilarity(str1, str2) {
                    const s1 = str1.toLowerCase().replace(/\s+/g, '');
                    const s2 = str2.toLowerCase().replace(/\s+/g, '');
                    if (s1 === s2) return 1.0;
                    if (s1.includes(s2) || s2.includes(s1)) return 0.8;
                    
                    // ê³µí†µ ë¬¸ì ë¹„ìœ¨ ê³„ì‚°
                    const longer = s1.length > s2.length ? s1 : s2;
                    const shorter = s1.length > s2.length ? s2 : s1;
                    let matches = 0;
                    for (let i = 0; i < shorter.length; i++) {
                        if (longer.includes(shorter[i])) matches++;
                    }
                    return matches / longer.length;
                }
                
                const postsWithScore = posts.map(post => {
                    let score = 0;
                    const postTitle = post.title.rendered;
                    const postTitleLower = postTitle.toLowerCase();
                    const postCategories = post.categories || [];
                    
                    // 1. ì¹´í…Œê³ ë¦¬ ì´ë¦„ê³¼ ì œëª© ìœ ì‚¬ë„ (ìµœìš°ì„ ) - ê°€ì¥ ë†’ì€ ì ìˆ˜
                    let maxCategorySimilarity = 0;
                    let hasExactCategoryMatch = false;
                    
                    // í˜ì´ì§€ ì œëª©ë„ ì¹´í…Œê³ ë¦¬ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš© (ê³µë°± ì œê±°)
                    const pageTitleNoSpace = pageTitleLower.replace(/\s+/g, '');
                    const postTitleNoSpace = postTitleLower.replace(/\s+/g, '');
                    
                    // í˜ì´ì§€ ì œëª©ì´ ê¸€ ì œëª©ì— ì •í™•íˆ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸ (ì–‘ë°©í–¥ ì²´í¬ ê°•í™”)
                    if (postTitleNoSpace.includes(pageTitleNoSpace) || 
                        pageTitleNoSpace.includes(postTitleNoSpace) ||
                        postTitleLower.includes(pageTitleLower) ||
                        pageTitleLower.includes(postTitleLower)) {
                        hasExactCategoryMatch = true;
                        maxCategorySimilarity = 1.0;
                    }
                    
                    // ì¹´í…Œê³ ë¦¬ ì´ë¦„ë„ í™•ì¸
                    categoryNames.forEach(catName => {
                        const catNameLower = catName.toLowerCase();
                        const catNameNoSpace = catNameLower.replace(/\s+/g, '');
                        
                        // ì¹´í…Œê³ ë¦¬ ì´ë¦„ì´ ì œëª©ì— ì •í™•íˆ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸ (ê³µë°± ë¬´ì‹œ)
                        if (postTitleNoSpace.includes(catNameNoSpace) || catNameNoSpace.includes(postTitleNoSpace)) {
                            hasExactCategoryMatch = true;
                            maxCategorySimilarity = 1.0; // ì •í™•íˆ ì¼ì¹˜í•˜ë©´ ìµœê³  ì ìˆ˜
                        } else {
                            const similarity = calculateSimilarity(catName, postTitle);
                            if (similarity > maxCategorySimilarity) {
                                maxCategorySimilarity = similarity;
                            }
                        }
                    });
                    // ì¹´í…Œê³ ë¦¬ ì´ë¦„ì´ ì •í™•íˆ í¬í•¨ë˜ë©´ ìµœê³  ì ìˆ˜, ì•„ë‹ˆë©´ ìœ ì‚¬ë„ ì ìˆ˜
                    if (hasExactCategoryMatch) {
                        score += 300; // ì •í™•íˆ ì¼ì¹˜í•˜ë©´ ìµœê³  ì ìˆ˜ (300ì )
                    } else {
                        score += maxCategorySimilarity * 200; // ìœ ì‚¬ë„ ì ìˆ˜ (ìµœëŒ€ 200ì )
                    }
                    
                    // 2. í˜ì´ì§€ ì œëª©ê³¼ í¬ìŠ¤íŠ¸ ì œëª©ì˜ ìœ ì‚¬ë„ (ë‘ ë²ˆì§¸ ìš°ì„ )
                    const titleSimilarity = calculateSimilarity(pageTitleLower, postTitleLower);
                    score += titleSimilarity * 150; // ìµœëŒ€ 150ì 
                    
                    // 3. í˜ì´ì§€ ì œëª© ì •í™• ì¼ì¹˜ ë³´ë„ˆìŠ¤
                    if (postTitleLower.includes(pageTitleLower) || pageTitleLower.includes(postTitleLower)) {
                        score += 100; // ì •í™•íˆ ì¼ì¹˜í•˜ë©´ ì¶”ê°€ ì ìˆ˜
                    }
                    
                    // 4. í•µì‹¬ í‚¤ì›Œë“œ ë§¤ì¹­ ì ìˆ˜
                    let matchedCoreKeywords = 0;
                    coreKeywords.forEach(keyword => {
                        if (postTitleLower.includes(keyword)) {
                            matchedCoreKeywords++;
                            score += 30; // í•µì‹¬ í‚¤ì›Œë“œ ë§¤ì¹­ ì‹œ ë†’ì€ ì ìˆ˜
                        }
                    });
                    
                    // 5. ì¼ë°˜ í‚¤ì›Œë“œ ë§¤ì¹­ ì ìˆ˜
                    let matchedWords = 0;
                    pageTitleWords.forEach(word => {
                        if (word.length > 1 && postTitleLower.includes(word)) {
                            matchedWords++;
                            score += 10; // ì¼ë°˜ í‚¤ì›Œë“œ ë§¤ì¹­ ì‹œ ë‚®ì€ ì ìˆ˜
                        }
                    });
                    
                    // 6. ì¹´í…Œê³ ë¦¬ ID ë§¤ì¹­ ì ìˆ˜
                    if (categoryIds.length > 0 && postCategories.includes(categoryIds[0])) {
                        score += 50; // ì²« ë²ˆì§¸ ì¹´í…Œê³ ë¦¬ ë§¤ì¹­
                    }
                    categoryIds.slice(1).forEach(catId => {
                        if (postCategories.includes(catId)) {
                            score += 10; // ë‹¤ë¥¸ ì¹´í…Œê³ ë¦¬ ë§¤ì¹­
                        }
                    });
                    
                    // í•µì‹¬ í‚¤ì›Œë“œê°€ í•˜ë‚˜ë„ ì—†ìœ¼ë©´ ì ìˆ˜ ëŒ€í­ ê°ì†Œ (ê±°ì˜ ì œì™¸)
                    if (coreKeywords.length > 0 && matchedCoreKeywords === 0) {
                        score = Math.max(0, score * 0.1); // ì ìˆ˜ ëŒ€í­ ê°ì†Œ (90% ê°ì†Œ)
                    }
                    
                    return { post, score, categorySimilarity: hasExactCategoryMatch ? 1.0 : maxCategorySimilarity, titleSimilarity, hasExactCategoryMatch };
                });
                
                // ê´€ë ¨ì„± ì ìˆ˜ê°€ ë„ˆë¬´ ë‚®ì€ ê¸€ í•„í„°ë§ (ìµœì†Œ 50ì  ì´ìƒ)
                // í•µì‹¬ í‚¤ì›Œë“œê°€ ìˆëŠ” ê²½ìš°, í•µì‹¬ í‚¤ì›Œë“œê°€ í•˜ë‚˜ë„ ë§¤ì¹­ë˜ì§€ ì•Šì€ ê¸€ì€ ì œì™¸
                // ë‹¨, í˜ì´ì§€ ì œëª© ì •í™• ì¼ì¹˜ë‚˜ ì¹´í…Œê³ ë¦¬ ì •í™• ì¼ì¹˜ê°€ ìˆìœ¼ë©´ ì˜ˆì™¸
                const filteredPosts = postsWithScore.filter(({ score, post, hasExactCategoryMatch }) => {
                    const postTitleLower = post.title.rendered.toLowerCase();
                    const postTitleNoSpace = postTitleLower.replace(/\s+/g, '');
                    const pageTitleNoSpace = pageTitleLower.replace(/\s+/g, '');
                    
                    // í˜ì´ì§€ ì œëª© ì •í™• ì¼ì¹˜ í™•ì¸ (ìµœìš°ì„  - ì ìˆ˜ì™€ ë¬´ê´€í•˜ê²Œ í†µê³¼)
                    if (postTitleNoSpace.includes(pageTitleNoSpace) || pageTitleNoSpace.includes(postTitleNoSpace)) {
                        return true;
                    }
                    
                    // ì •í™• ì¼ì¹˜ê°€ ìˆìœ¼ë©´ í†µê³¼
                    if (hasExactCategoryMatch) return true;
                    
                    // ì ìˆ˜ ì²´í¬
                    if (score < 50) return false;
                    
                    // í•µì‹¬ í‚¤ì›Œë“œê°€ ìˆê³ , í•µì‹¬ í‚¤ì›Œë“œê°€ í•˜ë‚˜ë„ ë§¤ì¹­ë˜ì§€ ì•Šìœ¼ë©´ ì œì™¸
                    if (coreKeywords.length > 0) {
                        const hasCoreKeyword = coreKeywords.some(keyword => {
                            const keywordNoSpace = keyword.replace(/\s+/g, '');
                            return postTitleLower.includes(keyword) || 
                                   postTitleNoSpace.includes(keywordNoSpace) ||
                                   keywordNoSpace.includes(postTitleNoSpace) ||
                                   postTitleNoSpace.includes(keywordNoSpace);
                        });
                        if (!hasCoreKeyword) return false;
                    }
                    
                    return true;
                });
                
                // ì •ë ¬: ì¹´í…Œê³ ë¦¬ ì •í™• ì¼ì¹˜ > í˜ì´ì§€ ì œëª© ì •í™• ì¼ì¹˜ > ì¹´í…Œê³ ë¦¬ ìœ ì‚¬ë„ > ì œëª© ìœ ì‚¬ë„ > ì ìˆ˜ ìˆœ
                filteredPosts.sort((a, b) => {
                    // 1ìˆœìœ„: ì¹´í…Œê³ ë¦¬ ì´ë¦„ì´ ì •í™•íˆ í¬í•¨ëœ ê¸€ ìš°ì„ 
                    if (a.hasExactCategoryMatch && !b.hasExactCategoryMatch) {
                        return -1; // aê°€ ì•ì—
                    }
                    if (!a.hasExactCategoryMatch && b.hasExactCategoryMatch) {
                        return 1; // bê°€ ì•ì—
                    }
                    // 2ìˆœìœ„: í˜ì´ì§€ ì œëª©ì´ ì •í™•íˆ í¬í•¨ëœ ê¸€ ìš°ì„ 
                    const aHasPageTitle = a.post.title.rendered.toLowerCase().includes(pageTitleLower) || 
                                         pageTitleLower.includes(a.post.title.rendered.toLowerCase());
                    const bHasPageTitle = b.post.title.rendered.toLowerCase().includes(pageTitleLower) || 
                                         pageTitleLower.includes(b.post.title.rendered.toLowerCase());
                    if (aHasPageTitle && !bHasPageTitle) {
                        return -1; // aê°€ ì•ì—
                    }
                    if (!aHasPageTitle && bHasPageTitle) {
                        return 1; // bê°€ ì•ì—
                    }
                    // 3ìˆœìœ„: ì¹´í…Œê³ ë¦¬ ì´ë¦„ê³¼ ì œëª© ìœ ì‚¬ë„
                    if (Math.abs(a.categorySimilarity - b.categorySimilarity) > 0.05) {
                        return b.categorySimilarity - a.categorySimilarity;
                    }
                    // 4ìˆœìœ„: í˜ì´ì§€ ì œëª©ê³¼ ì œëª© ìœ ì‚¬ë„
                    if (Math.abs(a.titleSimilarity - b.titleSimilarity) > 0.05) {
                        return b.titleSimilarity - a.titleSimilarity;
                    }
                    // 5ìˆœìœ„: ì´ ì ìˆ˜
                    return b.score - a.score;
                });
                
                console.log(`Filtered posts: ${filteredPosts.length} out of ${posts.length} (min score: 50)`);
                console.log(`Core keywords: ${coreKeywords.join(', ')}`);
                console.log(`Category names: ${categoryNames.join(', ')}`);
                console.log(`Page title: ${pageTitle}`);
                console.log(`ğŸ“Š ì •ë ¬ ê¸°ì¤€: ì¹´í…Œê³ ë¦¬ ì •í™• ì¼ì¹˜ > í˜ì´ì§€ ì œëª© ì •í™• ì¼ì¹˜ > ì¹´í…Œê³ ë¦¬ ìœ ì‚¬ë„ > ì œëª© ìœ ì‚¬ë„ > ì ìˆ˜`);
                // ë””ë²„ê¹…: ì •í™• ì¼ì¹˜ ê¸€ í™•ì¸
                filteredPosts.forEach((item, idx) => {
                    if (item.hasExactCategoryMatch) {
                        console.log(`âœ… ì •í™• ì¼ì¹˜ [${idx}]: ${item.post.title.rendered} (ì ìˆ˜: ${item.score}, ì¹´í…Œê³ ë¦¬ ìœ ì‚¬ë„: ${item.categorySimilarity})`);
                    }
                });
                
                // í•„í„°ë§ëœ í¬ìŠ¤íŠ¸ê°€ ì—†ìœ¼ë©´ ë©”ì‹œì§€ í‘œì‹œ
                if (filteredPosts.length === 0) {
                    newsGrid.innerHTML = `
                        <div class="no-posts-message" style="grid-column: 1 / -1;">
                            <p>ğŸ“ ê´€ë ¨ëœ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤</p>
                            <p style="font-size: 14px; margin-top: 10px; color: #ccc;">ê³§ ì—…ë°ì´íŠ¸ë  ì˜ˆì •ì…ë‹ˆë‹¤</p>
                        </div>
                    `;
                    return;
                }
                
                newsGrid.innerHTML = filteredPosts.map(({ post }) => {
                    const thumbnail = getThumbnailUrl(post);
                    const title = post.title.rendered;
                    const date = new Date(post.date).toLocaleDateString('ko-KR');
                    const backUrl = encodeURIComponent(window.location.pathname.split('/').pop());
                    
                    return `
                        <a href="post-detail.html?id=${post.id}&back=${backUrl}" class="news-item">
                            <div class="news-thumbnail">
                                ${thumbnail ? 
                                    `<img src="${thumbnail}" alt="${title}" loading="lazy" onerror="this.parentElement.innerHTML='<div class=\'news-thumbnail-placeholder\'>ğŸ“„</div>'">` :
                                    `<div class="news-thumbnail-placeholder">ğŸ“„</div>`
                                }
                            </div>
                            <h3 class="news-title">${title}</h3>
                            <p class="news-date">${date}</p>
                        </a>
                    `;
                }).join('');
                
            } catch (error) {
                console.error('Error loading posts:', error);
                newsGrid.innerHTML = `
                    <div class="no-posts-message" style="grid-column: 1 / -1;">
                        <p>âŒ ê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤</p>
                        <p style="font-size: 14px; margin-top: 10px; color: #ccc;">ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”</p>
                        <p style="font-size: 12px; margin-top: 5px; color: #999;">ì—ëŸ¬: ${error.message}</p>
                    </div>
                `;
            }
        }
        
        // í˜ì´ì§€ ì œëª© ê¸°ë°˜ ì¹´í…Œê³ ë¦¬ ìë™ ë§¤í•‘
        async function findCategoryByPageTitle(pageTitle) {
            if (!pageTitle) return null;
            
            try {
                // ì›Œë“œí”„ë ˆìŠ¤ì—ì„œ ëª¨ë“  ì¹´í…Œê³ ë¦¬ ê°€ì ¸ì˜¤ê¸°
                const response = await fetch('https://health9988234.mycafe24.com/wp-json/wp/v2/categories?per_page=100');
                const categories = await response.json();
                
                // ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ì¹´í…Œê³ ë¦¬ ì°¾ê¸°
                let matched = categories.find(cat => cat.name === pageTitle && cat.slug !== 'disease-info');
                if (matched) return matched.slug;
                
                // ë¶€ë¶„ ì¼ì¹˜ ì°¾ê¸°
                matched = categories.find(cat => 
                    cat.name.includes(pageTitle) || pageTitle.includes(cat.name)
                );
                if (matched) return matched.slug;
                
                // í‚¤ì›Œë“œ ê¸°ë°˜ ë§¤í•‘ (í˜ì´ì§€ ì œëª©ì— í‚¤ì›Œë“œê°€ í¬í•¨ëœ ê²½ìš°)
                const keywordMap = {
                    'ê´€ì ˆì—¼': ['musculoskeletal'],
                    'í‡´í–‰ì„±ê´€ì ˆì—¼': ['musculoskeletal'],
                };
                
                for (const [keyword, slug] of Object.entries(keywordMap)) {
                    if (pageTitle.includes(keyword)) {
                        return slug;
                    }
                }
                
                return null;
            } catch (error) {
                console.error('Category mapping error:', error);
                return null;
            }
        }
        
                // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', async function() {
            // í˜ì´ì§€ ì œëª© ê°€ì ¸ì˜¤ê¸°
            const pageTitle = document.querySelector('.page-title')?.textContent?.trim() || 
                             document.querySelector('h1')?.textContent?.trim() || '';
            
            // í˜„ì¬ í˜ì´ì§€ íŒŒì¼ëª… ê°€ì ¸ì˜¤ê¸° (ë” ê°•ë ¥í•œ ë°©ë²•)
            let currentPage = '';
            
            // ë°©ë²• 1: pathnameì—ì„œ ì¶”ì¶œ
            const pathname = window.location.pathname;
            if (pathname) {
                const parts = pathname.split('/');
                currentPage = parts[parts.length - 1];
            }
            
            // ë°©ë²• 2: ì „ì²´ URLì—ì„œ ì¶”ì¶œ
            if (!currentPage || !currentPage.endsWith('.html')) {
                const href = window.location.href;
                const match = href.match(/\/([^/]+\.html)($|\?|#)/);
                if (match) {
                    currentPage = match[1];
                }
            }
            
            // ë°©ë²• 3: í˜ì´ì§€ ì œëª©ìœ¼ë¡œ ë§¤í•‘
            const titleToPage = {
                'ê³ í˜ˆì••': 'sub-ê³ í˜ˆì••.html',
                'ê³ ì§€í˜ˆì¦': 'sub-ê³ ì§€í˜ˆì¦.html',
                'í˜‘ì‹¬ì¦/ì‹¬ê·¼ê²½ìƒ‰': 'sub-í˜‘ì‹¬ì¦ì‹¬ê·¼ê²½ìƒ‰.html',
                'ë™ë§¥ê²½í™”': 'sub-ë™ë§¥ê²½í™”.html',
                'ë‡Œì¡¸ì¤‘': 'sub-ë‡Œì¡¸ì¤‘.html',
                'ë‹¹ë‡¨': 'sub-ë‹¹ë‡¨.html',
                'ê³µë³µí˜ˆë‹¹ì¥ì• ': 'sub-ê³µë³µí˜ˆë‹¹ì¥ì• .html',
                'ë‹¹ë‡¨ë³‘í•©ë³‘ì¦': 'sub-ë‹¹ë‡¨ë³‘í•©ë³‘ì¦.html',
                'ê´€ì ˆì—¼': 'sub-ê´€ì ˆì—¼.html',
                'í‡´í–‰ì„±ê´€ì ˆì—¼': 'sub-í‡´í–‰ì„±ê´€ì ˆì—¼.html',
                'í—ˆë¦¬ë””ìŠ¤í¬/ëª©ë””ìŠ¤í¬': 'sub-í—ˆë¦¬ë””ìŠ¤í¬ëª©ë””ìŠ¤í¬.html',
                'ê³¨ë‹¤ê³µì¦': 'sub-ê³¨ë‹¤ê³µì¦.html',
                'ì˜¤ì‹­ê²¬': 'sub-ì˜¤ì‹­ê²¬.html',
                'ê°±ë…„ê¸°': 'sub-ê°±ë…„ê¸°.html',
                'ê°±ë…„ê¸°ì¦í›„êµ°': 'sub-ê°±ë…„ê¸°ì¦í›„êµ°.html',
                'ê°‘ìƒì„ ': 'sub-ê°‘ìƒì„ .html',
                'ëŒ€ì‚¬ì¦í›„êµ°': 'sub-ëŒ€ì‚¬ì¦í›„êµ°.html',
                'ìš°ìš¸ì¦': 'sub-ìš°ìš¸ì¦.html',
                'ìš°ìš¸ì¦/ë²ˆì•„ì›ƒ': 'sub-ìš°ìš¸ì¦ë²ˆì•„ì›ƒ.html',
                'ì¹˜ë§¤': 'sub-ì¹˜ë§¤.html',
                'ì¹˜ë§¤/ê²½ë„ì¸ì§€ì¥ì• ': 'sub-ì¹˜ë§¤ê²½ë„ì¸ì§€ì¥ì• .html',
                'ìˆ˜ë©´ì¥ì• ': 'sub-ìˆ˜ë©´ì¥ì• .html',
                'ìˆ˜ë©´ì¥ì• /ë¶ˆë©´ì¦': 'sub-ìˆ˜ë©´ì¥ì• ë¶ˆë©´ì¦.html',
                'ë¶ˆì•ˆì¥ì• ': 'sub-ë¶ˆì•ˆì¥ì• .html',
                'ìœ„ì—¼': 'sub-ìœ„ì—¼.html',
                'ìœ„ì—¼/ìœ„ê¶¤ì–‘': 'sub-ìœ„ì—¼ìœ„ê¶¤ì–‘.html',
                'ìœ„ì—¼/ì—­ë¥˜ì‹': 'sub-ìœ„ì—¼ì—­ë¥˜ì‹.html',
                'ì—­ë¥˜ì„±ì‹ë„ì—¼': 'sub-ì—­ë¥˜ì„±ì‹ë„ì—¼.html',
                'ì§€ë°©ê°„': 'sub-ì§€ë°©ê°„.html',
                'ê³¼ë¯¼ì„±ëŒ€ì¥ì¦í›„êµ°': 'sub-ê³¼ë¯¼ì„±ëŒ€ì¥ì¦í›„êµ°.html',
                'ëŒ€ì¥ì•”': 'sub-ëŒ€ì¥ì•”.html',
                'ë°±ë‚´ì¥': 'sub-ë°±ë‚´ì¥.html',
                'ë…¹ë‚´ì¥': 'sub-ë…¹ë‚´ì¥.html',
                'ë°±ë‚´ì¥/ë…¹ë‚´ì¥': 'sub-ë°±ë‚´ì¥ë…¹ë‚´ì¥.html',
                'ì¹˜ì£¼ì§ˆí™˜': 'sub-ì¹˜ì£¼ì§ˆí™˜.html',
                'ì¹˜ì£¼ì—¼/ì¹˜ì•„ì†ì‹¤': 'sub-ì¹˜ì£¼ì—¼ì¹˜ì•„ì†ì‹¤.html',
                'ì´ëª…/í˜„í›ˆ': 'sub-ì´ëª…í˜„í›ˆ.html',
                'ì´ëª…/ì–´ì§€ëŸ¼ì¦': 'sub-ì´ëª…ì–´ì§€ëŸ¼ì¦.html',
                'ë¹„ë§Œ': 'sub-ë¹„ë§Œ.html',
                'ë¹„ë§Œ/ì²´í˜•ë³€í™”': 'sub-ë¹„ë§Œì²´í˜•ë³€í™”.html',
            };
            
            if (!currentPage || !currentPage.endsWith('.html')) {
                currentPage = titleToPage[pageTitle] || 'sub-ê³ í˜ˆì••.html';
            }
            
            console.log('[DEBUG] pathname:', window.location.pathname);
            console.log('[DEBUG] href:', window.location.href);
            console.log('[DEBUG] í˜ì´ì§€ ì œëª©:', pageTitle);
            console.log('[DEBUG] í˜„ì¬ í˜ì´ì§€:', currentPage);
            
            // í•˜ë“œì½”ë”©ëœ ë§¤í•‘ ì‚¬ìš© (ìš°ì„ ìˆœìœ„)
            const pageToCategory = {
                'sub-ê³ í˜ˆì••.html': ['ê³ í˜ˆì••', 'cardiovascular', 'ì‹¬í˜ˆê´€-ì§ˆí™˜'],
                'sub-ê³ ì§€í˜ˆì¦.html': ['ê³ ì§€í˜ˆì¦', 'hyperlipidemia', 'cardiovascular', 'ì‹¬í˜ˆê´€-ì§ˆí™˜'],
                'sub-í˜‘ì‹¬ì¦ì‹¬ê·¼ê²½ìƒ‰.html': ['í˜‘ì‹¬ì¦', 'ì‹¬ê·¼ê²½ìƒ‰', 'cardiovascular', 'ì‹¬í˜ˆê´€-ì§ˆí™˜'],
                'sub-ë™ë§¥ê²½í™”.html': ['ë™ë§¥ê²½í™”', 'cardiovascular', 'ì‹¬í˜ˆê´€-ì§ˆí™˜'],
                'sub-ë‡Œì¡¸ì¤‘.html': ['ë‡Œì¡¸ì¤‘', 'stroke', 'cardiovascular', 'ì‹¬í˜ˆê´€-ì§ˆí™˜'],
                'sub-ë‹¹ë‡¨.html': ['ë‹¹ë‡¨', 'diabetes', 'ë‹¹ë‡¨ë³‘'],
                'sub-ê³µë³µí˜ˆë‹¹ì¥ì• .html': ['ê³µë³µí˜ˆë‹¹', 'diabetes', 'ë‹¹ë‡¨ë³‘'],
                'sub-ë‹¹ë‡¨ë³‘í•©ë³‘ì¦.html': ['ë‹¹ë‡¨ë³‘í•©ë³‘ì¦', 'diabetes', 'ë‹¹ë‡¨ë³‘'],
                'sub-ê´€ì ˆì—¼.html': ['ê´€ì ˆì—¼', 'musculoskeletal', 'ê´€ì ˆ-ê·¼ê³¨ê²©ê³„-ì§ˆí™˜'],
                'sub-í‡´í–‰ì„±ê´€ì ˆì—¼.html': ['í‡´í–‰ì„±ê´€ì ˆì—¼', 'musculoskeletal', 'ê´€ì ˆ-ê·¼ê³¨ê²©ê³„-ì§ˆí™˜'],
                'sub-í—ˆë¦¬ë””ìŠ¤í¬ëª©ë””ìŠ¤í¬.html': ['í—ˆë¦¬ë””ìŠ¤í¬', 'ëª©ë””ìŠ¤í¬', 'musculoskeletal', 'ê´€ì ˆ-ê·¼ê³¨ê²©ê³„-ì§ˆí™˜'],
                'sub-ê³¨ë‹¤ê³µì¦.html': ['ê³¨ë‹¤ê³µì¦', 'musculoskeletal', 'ê´€ì ˆ-ê·¼ê³¨ê²©ê³„-ì§ˆí™˜'],
                'sub-ì˜¤ì‹­ê²¬.html': ['ì˜¤ì‹­ê²¬', 'musculoskeletal', 'ê´€ì ˆ-ê·¼ê³¨ê²©ê³„-ì§ˆí™˜'],
                'sub-ê°±ë…„ê¸°.html': ['ê°±ë…„ê¸°', 'endocrine', 'í˜¸ë¥´ëª¬-ë‚´ë¶„ë¹„-ì§ˆí™˜'],
                'sub-ê°±ë…„ê¸°ì¦í›„êµ°.html': ['ê°±ë…„ê¸°', 'endocrine', 'í˜¸ë¥´ëª¬-ë‚´ë¶„ë¹„-ì§ˆí™˜'],
                'sub-ê°‘ìƒì„ .html': ['ê°‘ìƒì„ ', 'endocrine', 'í˜¸ë¥´ëª¬-ë‚´ë¶„ë¹„-ì§ˆí™˜'],
                'sub-ëŒ€ì‚¬ì¦í›„êµ°.html': ['ëŒ€ì‚¬ì¦í›„êµ°', 'endocrine', 'í˜¸ë¥´ëª¬-ë‚´ë¶„ë¹„-ì§ˆí™˜'],
                'sub-ìš°ìš¸ì¦.html': ['ìš°ìš¸ì¦', 'neuroscience', 'ì •ì‹ -ê±´ê°•-ì‹ ê²½ê³„'],
                'sub-ìš°ìš¸ì¦ë²ˆì•„ì›ƒ.html': ['ìš°ìš¸ì¦', 'ë²ˆì•„ì›ƒ', 'neuroscience', 'ì •ì‹ -ê±´ê°•-ì‹ ê²½ê³„'],
                'sub-ì¹˜ë§¤.html': ['ì¹˜ë§¤', 'neuroscience', 'ì •ì‹ -ê±´ê°•-ì‹ ê²½ê³„'],
                'sub-ì¹˜ë§¤ê²½ë„ì¸ì§€ì¥ì• .html': ['ì¹˜ë§¤', 'ì¸ì§€ì¥ì• ', 'neuroscience', 'ì •ì‹ -ê±´ê°•-ì‹ ê²½ê³„'],
                'sub-ìˆ˜ë©´ì¥ì• .html': ['ìˆ˜ë©´ì¥ì• ', 'neuroscience', 'ì •ì‹ -ê±´ê°•-ì‹ ê²½ê³„'],
                'sub-ìˆ˜ë©´ì¥ì• ë¶ˆë©´ì¦.html': ['ìˆ˜ë©´ì¥ì• ', 'ë¶ˆë©´ì¦', 'neuroscience', 'ì •ì‹ -ê±´ê°•-ì‹ ê²½ê³„'],
                'sub-ë¶ˆì•ˆì¥ì• .html': ['ë¶ˆì•ˆì¥ì• ', 'neuroscience', 'ì •ì‹ -ê±´ê°•-ì‹ ê²½ê³„'],
                'sub-ìœ„ì—¼.html': ['ìœ„ì—¼', 'digestive', 'ì†Œí™”ê¸°-ì§ˆí™˜'],
                'sub-ìœ„ì—¼ìœ„ê¶¤ì–‘.html': ['ìœ„ì—¼', 'ìœ„ê¶¤ì–‘', 'digestive', 'ì†Œí™”ê¸°-ì§ˆí™˜'],
                'sub-ìœ„ì—¼ì—­ë¥˜ì‹.html': ['ìœ„ì—¼', 'ì—­ë¥˜ì„±ì‹ë„ì—¼', 'digestive', 'ì†Œí™”ê¸°-ì§ˆí™˜'],
                'sub-ì—­ë¥˜ì„±ì‹ë„ì—¼.html': ['ì—­ë¥˜ì„±ì‹ë„ì—¼', 'digestive', 'ì†Œí™”ê¸°-ì§ˆí™˜'],
                'sub-ì§€ë°©ê°„.html': ['ì§€ë°©ê°„', 'digestive', 'ì†Œí™”ê¸°-ì§ˆí™˜'],
                'sub-ê³¼ë¯¼ì„±ëŒ€ì¥ì¦í›„êµ°.html': ['ê³¼ë¯¼ì„±ëŒ€ì¥ì¦í›„êµ°', 'digestive', 'ì†Œí™”ê¸°-ì§ˆí™˜'],
                'sub-ëŒ€ì¥ì•”.html': ['ëŒ€ì¥ì•”', 'digestive', 'ì†Œí™”ê¸°-ì§ˆí™˜'],
                'sub-ë°±ë‚´ì¥.html': ['ë°±ë‚´ì¥', 'eyes-dental', 'ì•ˆê³¼-ì¹˜ê³¼-ê¸°íƒ€'],
                'sub-ë…¹ë‚´ì¥.html': ['ë…¹ë‚´ì¥', 'eyes-dental', 'ì•ˆê³¼-ì¹˜ê³¼-ê¸°íƒ€'],
                'sub-ë°±ë‚´ì¥ë…¹ë‚´ì¥.html': ['ë°±ë‚´ì¥', 'ë…¹ë‚´ì¥', 'eyes-dental', 'ì•ˆê³¼-ì¹˜ê³¼-ê¸°íƒ€'],
                'sub-ì¹˜ì£¼ì§ˆí™˜.html': ['ì¹˜ì£¼ì§ˆí™˜', 'eyes-dental', 'ì•ˆê³¼-ì¹˜ê³¼-ê¸°íƒ€'],
                'sub-ì¹˜ì£¼ì—¼ì¹˜ì•„ì†ì‹¤.html': ['ì¹˜ì£¼ì—¼', 'ì¹˜ì•„ì†ì‹¤', 'eyes-dental', 'ì•ˆê³¼-ì¹˜ê³¼-ê¸°íƒ€'],
                'sub-ì´ëª…í˜„í›ˆ.html': ['ì´ëª…', 'í˜„í›ˆ', 'eyes-dental', 'ì•ˆê³¼-ì¹˜ê³¼-ê¸°íƒ€'],
                'sub-ì´ëª…ì–´ì§€ëŸ¼ì¦.html': ['ì´ëª…', 'ì–´ì§€ëŸ¼ì¦', 'eyes-dental', 'ì•ˆê³¼-ì¹˜ê³¼-ê¸°íƒ€'],
                'sub-ë¹„ë§Œ.html': ['ë¹„ë§Œ', 'eyes-dental', 'ì•ˆê³¼-ì¹˜ê³¼-ê¸°íƒ€'],
                'sub-ë¹„ë§Œì²´í˜•ë³€í™”.html': ['ë¹„ë§Œ', 'ì²´í˜•ë³€í™”', 'eyes-dental', 'ì•ˆê³¼-ì¹˜ê³¼-ê¸°íƒ€'],
            };
            
            // ë§¤í•‘ì—ì„œ ì¹´í…Œê³ ë¦¬ ê°€ì ¸ì˜¤ê¸°
            let categorySlug = pageToCategory[currentPage];
            
            console.log('[DEBUG] ë§¤í•‘ ì „ categorySlug:', categorySlug);
            
            // ë§¤í•‘ì— ì—†ìœ¼ë©´ í˜ì´ì§€ ì œëª©ìœ¼ë¡œ ìë™ ì°¾ê¸° ì‹œë„
            if (!categorySlug) {
                try {
                    const foundSlug = await findCategoryByPageTitle(pageTitle);
                    if (foundSlug) {
                        categorySlug = [foundSlug];
                    }
                } catch (error) {
                    console.warn('ìë™ ë§¤í•‘ ì‹¤íŒ¨, ê¸°ë³¸ê°’ ì‚¬ìš©:', error);
                }
            }
            
            // ë°°ì—´ì´ ì•„ë‹ˆë©´ ë°°ì—´ë¡œ ë³€í™˜
            if (categorySlug && !Array.isArray(categorySlug)) {
                categorySlug = [categorySlug];
            }
            
            // ì—¬ì „íˆ ì—†ìœ¼ë©´ í˜ì´ì§€ ì œëª©ì„ ì¹´í…Œê³ ë¦¬ë¡œ ì‚¬ìš©
            if (!categorySlug || categorySlug.length === 0) {
                categorySlug = [pageTitle];
            }
            
            console.log('[DEBUG] ìµœì¢… ë§¤ì¹­ëœ ì¹´í…Œê³ ë¦¬:', categorySlug);
            
            loadPosts(categorySlug || [], pageTitle);
        });
    </script>